<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple Counters</title>
    <style>
        .box {
            border: 1px solid #333;
            padding: 20px;
            margin: 10px;
            display: inline-block;
            width: 120px;
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="box">
        <p>0</p>
        <button class="increase">Increase</button><br><br>
        <button class="decrease">Decrease</button>
        <br><br>
        <span class="level">level: 0</span>
    </div>

    <div class="box">
        <p>0</p>
        <button class="increase">Increase</button><br><br>
        <button class="decrease">Decrease</button>
        <br><br>
        <span class="level">level: 0</span>
    </div>

     <div class="box">
        <p>0</p>
        <button class="increase">Increase</button><br><br>
        <button class="decrease">Decrease</button>
        <br><br>
        <span class="level">level: 0</span>
    </div>
    <!-- <div>
        <span>Select your theme: </span>
        <button id="dark">Dark</button>
        <button id="light">Light</button>
    </div> -->

    <script>
       
        const boxes = document.querySelectorAll(".box");

        boxes.forEach(box => {
            const counter = {
                count: 0,
                level: 0,
                elements: {
                    increase: box.querySelector(".increase"),
                    decrease: box.querySelector(".decrease"),
                    paragraph: box.querySelector("p"),
                    showLevel: box.querySelector(".level")
                },
                updateLevel() {
                    if (this.count > 10) this.level = 3;
                    else if (this.count > 5) this.level = 2;
                    else if (this.count > 0) this.level = 1;
                    else this.level = 0;
                    this.elements.showLevel.textContent = "level: " + this.level;
                },
               event() {
                    this.elements.increase.addEventListener("click", () => {
                        this.count++;
                        this.elements.paragraph.textContent = this.count;
                        this.updateLevel();
                    });

                    this.elements.decrease.addEventListener("click", () => {
                        this.count--;
                        this.elements.paragraph.textContent = this.count;
                        this.updateLevel();
                    });
                    
                }
            };
            counter.event();
        });

       
         // Here we learned how to use encapsulation in JavaScript. 
        // We grouped related data (like count and level) and functions
        //  (like updateLevel and event handling) inside a single object. 
        // This way, everything related to the counter is organized in one place,
        //  making the code easier to manage and avoiding global variables. 
        // We also learned how to select DOM elements, handle events, and 
        // update the UI dynamically using this object.
    </script>
</body>

</html>
